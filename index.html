<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8" />
  <title>BOSS AIX – Smart Console</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      display: flex;
      justify-content: center;
      padding: 20px;
    }
    .app {
      width: 100%;
      max-width: 900px;
      background: #020617;
      border-radius: 12px;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    textarea {
      width: 100%;
      height: 120px;
      background: #020617;
      color: #e5e7eb;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 10px;
      font-size: 15px;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #1d4ed8;
    }
    .chat {
      margin-top: 20px;
      max-height: 400px;
      overflow-y: auto;
      background: #020617;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 10px;
    }
    .msg {
      margin-bottom: 12px;
    }
    .user {
      color: #38bdf8;
    }
    .aix {
      color: #a7f3d0;
    }
    img, video {
      max-width: 100%;
      margin-top: 10px;
      border-radius: 8px;
    }
    pre {
      background: #020617;
      padding: 10px;
      border-radius: 8px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>BOSS AIX – Talk to AI</h1>

    <textarea id="input" placeholder="AIX:
GOAL: Project inspect कर
OUTPUT: Report"></textarea>

    <button onclick="askAIX()">Ask AIX</button>

    <div class="chat" id="chat"></div>
  </div>

<script>
const BACKEND_URL = "https://172.31.41.137/api/aix";
// ↑ जर backend URL वेगळा असेल तर बदल

async function askAIX() {
  const input = document.getElementById("input").value;
  if (!input) return;

  const chat = document.getElementById("chat");
  chat.innerHTML += `<div class="msg user">YOU: ${input}</div>`;

  document.getElementById("input").value = "";

  const res = await fetch(BACKEND_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message: input })
  });

  const data = await res.json();

  if (data.conversation) {
    chat.innerHTML = "";
    data.conversation.forEach(m => {
      chat.innerHTML += `<div class="msg ${m.role}">
        ${m.role.toUpperCase()}: ${m.text}
      </div>`;
    });
  }

  if (data.imageUrl) {
    chat.innerHTML += `<img src="${data.imageUrl}" />`;
  }

  if (data.videoJob) {
    chat.innerHTML += `<pre>Video Job File: ${data.videoJob}</pre>`;
  }

  chat.scrollTop = chat.scrollHeight;
}
</script>
</body>
</html>
